(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){},138:function(e,t,a){},156:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);a(100);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),i=(a(137),a(98)),c=a.n(i),s=a(56),m=a.n(s),u=(a(138),function(){return r.a.createElement(m.a,{className:"movie-header",expand:"lg",sticky:"top",role:"banner"},r.a.createElement(m.a.Brand,{href:"#home",className:"movie-header__brand"},"React Movies"))}),d=(a(156),function(e){var t=e.url,a=e.id,n=e.name,l=e.click;return r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return l(a)},onKeyPress:function(){return l(a)}},r.a.createElement("figure",{className:"movie-poster d-flex justify-content-center mb-0"},r.a.createElement("img",{className:"movie-poster__image d-flex rounded",alt:n,src:"https://image.tmdb.org/t/p/w185_and_h278_bestv2".concat(t),role:"presentation"})))});d.defaultProps={id:0,name:"movie",click:function(){}};var h=d,g=function(){return r.a.createElement("div",{className:"spinner-border text-primary my-2",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},v=function(e){var t=e.switchToggle,a=e.id,n=e.label;return r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input","aria-label":"".concat(n," Checkbox"),id:a,name:a,onChange:t}),r.a.createElement("label",{className:"custom-control-label",htmlFor:a,"aria-label":"".concat(n," filter"),"aria-describedby":a},n))},f=a(27),p=a.n(f),b=function(e){var t=e.aria,a=e.label,n=e.click;return r.a.createElement("button",Object.assign({type:"button",onClick:n,"aria-label":a},t,{className:"btn btn-primary my-2"}),a)};b.defaultProps={aria:{}};var E=b,y=function(e){var t=e.show,a=e.onHide,n=e.title,l=e.children;return r.a.createElement(p.a,{show:t,onHide:a,size:"lg","aria-labelledby":"movie-details",className:"movie-modal",centered:!0},r.a.createElement(p.a.Header,{className:"align-items-center"},r.a.createElement(p.a.Title,{id:"movie-details"},n),r.a.createElement(E,{label:"Close",click:a})),r.a.createElement(p.a.Body,null,l))},w=a(33),k=a(95),N=a(34),C=a(37),j=a(35),O=a(25),x=a(36),F=a(6),M=a(96),_=a.n(M),S=a(55),H=a.n(S),R=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(C.a)(this,Object(j.a)(t).call(this,e))).state={open:!1,enLangFilter:!1,adultFilter:!1,ratingFilter:0},a.handleInputChange=a.handleInputChange.bind(Object(F.a)(Object(F.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(F.a)(Object(F.a)(a))),a}return Object(x.a)(t,e),Object(O.a)(t,null,[{key:"propTypes",get:function(){return{onChange:_.a.func.isRequired}}}]),Object(O.a)(t,[{key:"onFilterChange",value:function(){var e=this.state,t=e.ratingFilter,a=e.enLangFilter,n={vote_average:t,adult:e.adultFilter};(0,this.props.onChange)(a?Object(k.a)({},n,{original_language:"en"}):n)}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.type,n=t.name,r=t.checked,l=t.value,o="checkbox"===a?r:l;this.setState(Object(w.a)({},n,o))}},{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.ratingFilter;return r.a.createElement("div",{className:"bg-secondary px-3 rounded"},r.a.createElement("section",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("h6",{className:"mb-0"},"Popular movies"),r.a.createElement(E,{label:"Filter",aria:{"aria-controls":"movie-filter","aria-expanded":a},click:function(){return e.setState({open:!a})}})),r.a.createElement(H.a,{in:a},r.a.createElement("div",{id:"movie-filter",role:"toolbar","aria-label":"Filter options",className:"border-top border-primary mt-1 py-3 px-1"},r.a.createElement("h6",{className:"text-uppercase"},"Filter options"),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-between align-items-center"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rating-filter","aria-label":"Rating filter","aria-describedby":"rating-filter"},"Rating (\u2265)",r.a.createElement("input",{type:"range",className:"custom-range","aria-label":"Rating range",onChange:this.handleInputChange,name:"ratingFilter",min:"0",max:"10",step:"0.5",value:n,id:"rating-filter"}),r.a.createElement("span",{className:"text-primary position-absolute font-weight-bold ml-2"},n))),r.a.createElement(v,{id:"adultFilter",label:"Adult",switchToggle:this.handleInputChange}),r.a.createElement(v,{id:"enLangFilter",label:"Original Language",switchToggle:this.handleInputChange})),r.a.createElement("div",{className:"mt-1"},r.a.createElement(E,{label:"Apply",click:this.onFilterChange})))))}}]),t}(n.Component),P=a(26),L=a.n(P),T=a(17),A=a.n(T),I="?api_key=7985411c015901cd0f030ce010fa69c4",W="https://api.themoviedb.org/3",B=a(97),U=a.n(B),D=function(e,t){return U.a.get(e,t).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})},J=function(e){var t=e.show,a=e.onHide,n=e.movie;return r.a.createElement(y,{show:t,title:n.title,onHide:a},r.a.createElement(L.a,null,r.a.createElement(A.a,{sm:!0,lg:4},r.a.createElement(h,{name:n.title,url:"".concat(n.poster_path)})),r.a.createElement(A.a,{sm:!0,lg:8},r.a.createElement(L.a,null,r.a.createElement(A.a,{md:12},r.a.createElement("p",{className:"h6 text-primary"},"Overview"),r.a.createElement("p",{className:"mb-0"},r.a.createElement("em",null,n.overview)))),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("dl",{className:"row movie-modal__summary--list"},r.a.createElement("dt",{className:"col-sm-3 text-primary"},"Tagline"),r.a.createElement("dd",{className:"col-sm-9"},n.tagline||"Not available"),r.a.createElement("dt",{className:"col-sm-3 text-primary"},"Rating"),r.a.createElement("dd",{className:"col-sm-9"},n.vote_average),r.a.createElement("dt",{className:"col-sm-3 text-primary"},"Status"),r.a.createElement("dd",{className:"col-sm-9"},n.status),r.a.createElement("dt",{className:"col-sm-3 text-primary"},"Release Date"),r.a.createElement("dd",{className:"col-sm-9"},n.release_date),r.a.createElement("dt",{className:"col-sm-3 text-primary"},"Language"),r.a.createElement("dd",{className:"col-sm-9 text-uppercase"},n.original_language)))))},q=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(C.a)(this,Object(j.a)(t).call(this,e))).state={movies:[],source:[],movie:{},loading:!0,showModal:!1,error:!1,errMsg:""},a.onMovieClick=a.onMovieClick.bind(Object(F.a)(Object(F.a)(a))),a.onModalClose=a.onModalClose.bind(Object(F.a)(Object(F.a)(a))),a.onErrorModalHide=a.onErrorModalHide.bind(Object(F.a)(Object(F.a)(a))),a.onFilterChange=a.onFilterChange.bind(Object(F.a)(Object(F.a)(a))),a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;D("".concat(W,"/movie/popular").concat(I)).then(function(e){var t=e.results;return Promise.resolve(t)}).then(function(t){return e.setState({movies:t,source:t,loading:!1})}).catch(function(t){return e.handleError(t)})}},{key:"onMovieClick",value:function(e){var t=this;(function(e){return D("".concat(W,"/movie/").concat(e).concat(I))})(e).then(function(e){return t.setState({showModal:!0,movie:e,loading:!1})}).catch(function(e){return t.handleError(e)})}},{key:"onModalClose",value:function(){this.setState({showModal:!1})}},{key:"onFilterChange",value:function(e){var t=function(e,t){var a=Object.keys(t);return e.filter(function(e){return a.every(function(a){return"vote_average"===a?e[a]>=t[a]:e[a]===t[a]})})}(this.state.source,e);this.setState({movies:t})}},{key:"onErrorModalHide",value:function(){this.setState({error:!1})}},{key:"handleError",value:function(e){this.setState({loading:!1,error:!0,errMsg:e.toString()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.loading,l=t.showModal,o=t.movie,i=t.error,c=t.errMsg;return r.a.createElement("section",null,r.a.createElement(R,{onChange:this.onFilterChange}),r.a.createElement(L.a,{className:"justify-content-center"},!n&&a.map(function(t){return r.a.createElement(A.a,{className:"my-3 text-center",key:t.id},r.a.createElement(h,{id:t.id,name:t.original_title,url:t.poster_path,click:e.onMovieClick}))})||r.a.createElement(g,null)),l&&r.a.createElement(J,{show:l,onHide:this.onModalClose,movie:o}),r.a.createElement(y,{show:i,title:"Oops!",onHide:this.onErrorModalHide},r.a.createElement("strong",null,c)))}}]),t}(n.Component),z=function(){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(c.a,{fluid:"true",className:"py-4"},r.a.createElement(q,null)))},K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){return console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/online-edu/react-movies",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/online-edu/react-movies","/service-worker.js");K?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):$(t,e)})}}()},99:function(e,t,a){e.exports=a(205)}},[[99,1,2]]]);
//# sourceMappingURL=main.2f7f6aa8.chunk.js.map